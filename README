#######################################################################
#######################  DOCKER ENVIRONMENT  ##########################
#######################################################################

# Build and run app
docker-compose down
docker-compose build --no-cache
docker-compose up -d
# Create database using docker
docker exec -it flask-restx flask db init
docker exec -it flask-restx flask db migrate -m "Initial migration"
docker exec -it flask-restx flask db upgrade

# Update database using docker
docker exec -it flask-restx flask db migrate -m "Update migration"
docker exec -it flask-restx flask db upgrade

# Create auth user
docker exec -it flask-restx python auth_endpoints/password_hash.py
# Add the username and pashword_hash into User table in database


#######################################################################
#########################  DEV ENVIRONMENT  ###########################
#######################################################################
# Create database in development
flask db init
flask db migrate -m "Initial migration"
flask db upgrade

# Update database
flask db migrate -m "Update migration"
flask db upgrade

# Create auth user
python auth_endpoints/password_hash.py
# Add the username and pashword_hash into User table in database

#Run application in development
flask run